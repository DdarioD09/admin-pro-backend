"use strict";(self.webpackChunk_03_admin_pro=self.webpackChunk_03_admin_pro||[]).push([[159],{2159:(se,T,c)=>{c.r(T),c.d(T,{ChildRoutesModule:()=>ee});var u=c(8487),t=c(4438);let B=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(s,r){1&s&&(t.j41(0,"p"),t.EFF(1,"dashboard works!"),t.k0s())},encapsulation:2})}}return i})();var p=c(177),a=c(4341);const N=i=>({"is-invalid":i});let Y=(()=>{class i{constructor(){this.progress=50,this.btnClass="btn-primary",this.progressUpdated=new t.bkB}ngOnInit(){this.btnClass=`btn ${this.btnClass}`}changeProgress(e){return this.progress>=100&&e>=0?(this.progressUpdated.emit(100),void(this.progress=100)):this.progress<=0&&e<0?(this.progressUpdated.emit(0),void(this.progress=0)):(this.progress=this.progress+e,void this.progressUpdated.emit(this.progress))}onChange(e){this.progress=e>=100?100:e<=0?0:e,this.progressUpdated.emit(this.progress)}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-increaser"]],inputs:{progress:[t.Mj6.None,"progressValue","progress"],btnClass:"btnClass"},outputs:{progressUpdated:"progressValueUpdated"},decls:8,vars:6,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",3,"click","ngClass"],[1,"fa","fa-minus"],["type","number","placeholder","Progress",1,"form-control",3,"ngModelChange","ngClass","ngModel"],[1,"fa","fa-plus"]],template:function(s,r){1&s&&(t.j41(0,"div",0)(1,"span",1)(2,"button",2),t.bIt("click",function(){return r.changeProgress(-5)}),t.nrm(3,"i",3),t.k0s()(),t.j41(4,"input",4),t.bIt("ngModelChange",function(l){return r.onChange(l)}),t.mxI("ngModelChange",function(l){return t.DH7(r.progress,l)||(r.progress=l),l}),t.k0s(),t.j41(5,"span",1)(6,"button",2),t.bIt("click",function(){return r.changeProgress(5)}),t.nrm(7,"i",5),t.k0s()()()),2&s&&(t.R7$(2),t.Y8G("ngClass",r.btnClass),t.R7$(2),t.Y8G("ngClass",t.eq3(4,N,r.progress>100||r.progress<0)),t.R50("ngModel",r.progress),t.R7$(2),t.Y8G("ngClass",r.btnClass))},dependencies:[p.YU,a.me,a.Q0,a.BC,a.vS],encapsulation:2})}}return i})(),V=(()=>{class i{constructor(){this.progress1=25,this.progress2=35}get getProgress1(){return`${this.progress1}%`}get getProgress2(){return`${this.progress2}%`}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-progress"]],decls:19,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"progress","m-t-20"],["role","progressbar",1,"progress-bar","bg-primary","progress-bar-striped","active",2,"height","10px"],["role","progressbar",1,"progress-bar","bg-info","progress-bar-striped","active",2,"height","10px"],[1,"col-6"],[3,"progressValueUpdated","progressValue"],[3,"progressValueUpdated","progressValue","btnClass"]],template:function(s,r){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t.EFF(5,"Striped progress bar"),t.k0s(),t.j41(6,"div",5),t.nrm(7,"div",6),t.k0s(),t.j41(8,"div",5),t.nrm(9,"div",7),t.k0s()()()()(),t.j41(10,"div",0)(11,"div",8)(12,"div",2)(13,"div",3)(14,"app-increaser",9),t.bIt("progressValueUpdated",function(l){return r.progress1=l}),t.k0s()()()(),t.j41(15,"div",8)(16,"div",2)(17,"div",3)(18,"app-increaser",10),t.bIt("progressValueUpdated",function(l){return r.progress2=l}),t.k0s()()()()()),2&s&&(t.R7$(7),t.xc7("width",r.getProgress1),t.R7$(2),t.xc7("width",r.getProgress2),t.R7$(5),t.Y8G("progressValue",r.progress1),t.R7$(4),t.Y8G("progressValue",r.progress2)("btnClass","btn-info"))},dependencies:[Y],styles:[".progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], .progress-bar.active[_ngcontent-%COMP%]{animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px;transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:_ngcontent-%COMP%_myanimation;-webkit-transition:5s all;animation-duration:5s;animation-name:_ngcontent-%COMP%_myanimation;transition:5s all}@keyframes _ngcontent-%COMP%_myanimation{0%{width:0}}"]})}}return i})();var P=c(4184);let H=(()=>{class i{constructor(){this.title="Without title",this.doughnutChartLabels=["Label1","Label2","Label3"],this.doughnutData=[123,456,321],this.doughnutChartData={labels:[],datasets:[]}}ngOnInit(){this.doughnutChartData={labels:this.doughnutChartLabels,datasets:[{data:this.doughnutData}]}}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-doughnut"]],inputs:{title:"title",doughnutChartLabels:[t.Mj6.None,"labels","doughnutChartLabels"],doughnutData:[t.Mj6.None,"data","doughnutData"]},decls:5,vars:2,consts:[[1,"card"],[1,"card-body"],["baseChart","","type","doughnut",3,"data"]],template:function(s,r){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"h3"),t.EFF(3),t.k0s(),t.nrm(4,"canvas",2),t.k0s()()),2&s&&(t.R7$(3),t.JRh(r.title),t.R7$(),t.Y8G("data",r.doughnutChartData))},dependencies:[P.j9]})}}return i})(),M=(()=>{class i{constructor(){this.doughnutChartLabels1=["Bread","Soda","Tacos"],this.data1=[87,65,20]}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-chart1"]],decls:10,vars:2,consts:[[1,"row"],[1,"col-6"],["title","Changes"],["title","Purchases",3,"labels","data"],["title","Statistics"],["title","Sales"]],template:function(s,r){1&s&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"app-doughnut",2),t.k0s(),t.j41(3,"div",1),t.nrm(4,"app-doughnut",3),t.k0s()(),t.j41(5,"div",0)(6,"div",1),t.nrm(7,"app-doughnut",4),t.k0s(),t.j41(8,"div",1),t.nrm(9,"app-doughnut",5),t.k0s()()),2&s&&(t.R7$(4),t.Y8G("labels",r.doughnutChartLabels1)("data",r.data1))},dependencies:[H],encapsulation:2})}}return i})();var O=c(875);let X=(()=>{class i{constructor(e){this.settingsServices=e}ngOnInit(){this.links=document.querySelectorAll(".selector"),this.settingsServices.checkCurrentTheme(this.links)}changeTheme(e){this.settingsServices.changeTheme(e),this.settingsServices.checkCurrentTheme(this.links)}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(O.h))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-account-settings"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-4"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(s,r){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),t.EFF(5,"Seleccione el tema"),t.k0s(),t.j41(6,"div",4)(7,"ul",5)(8,"li")(9,"b"),t.EFF(10,"Con el sidebar claro"),t.k0s()(),t.j41(11,"li")(12,"a",6),t.bIt("click",function(){return r.changeTheme("default")}),t.EFF(13,"1"),t.k0s()(),t.j41(14,"li")(15,"a",7),t.bIt("click",function(){return r.changeTheme("green")}),t.EFF(16,"2"),t.k0s()(),t.j41(17,"li")(18,"a",8),t.bIt("click",function(){return r.changeTheme("red")}),t.EFF(19,"3"),t.k0s()(),t.j41(20,"li")(21,"a",9),t.bIt("click",function(){return r.changeTheme("blue")}),t.EFF(22,"4"),t.k0s()(),t.j41(23,"li")(24,"a",10),t.bIt("click",function(){return r.changeTheme("purple")}),t.EFF(25,"5"),t.k0s()(),t.j41(26,"li")(27,"a",11),t.bIt("click",function(){return r.changeTheme("megna")}),t.EFF(28,"6"),t.k0s()(),t.j41(29,"li",12)(30,"b"),t.EFF(31,"Con el sidebar oscuro"),t.k0s()(),t.j41(32,"li")(33,"a",13),t.bIt("click",function(){return r.changeTheme("default-dark")}),t.EFF(34,"7"),t.k0s()(),t.j41(35,"li")(36,"a",14),t.bIt("click",function(){return r.changeTheme("green-dark")}),t.EFF(37,"8"),t.k0s()(),t.j41(38,"li")(39,"a",15),t.bIt("click",function(){return r.changeTheme("red-dark")}),t.EFF(40,"9"),t.k0s()(),t.j41(41,"li")(42,"a",16),t.bIt("click",function(){return r.changeTheme("blue-dark")}),t.EFF(43,"10"),t.k0s()(),t.j41(44,"li")(45,"a",17),t.bIt("click",function(){return r.changeTheme("purple-dark")}),t.EFF(46,"11"),t.k0s()(),t.j41(47,"li")(48,"a",18),t.bIt("click",function(){return r.changeTheme("megna-dark")}),t.EFF(49,"12"),t.k0s()()()()()()()())}})}}return i})(),A=(()=>{class i{ngOnInit(){this.getUsers().then(e=>console.log(e))}getUsers(){return new Promise(e=>{fetch("https://reqres.in/api/users?page=2",{headers:{"x-api-key":"reqres-free-v1"}}).then(s=>s.json()).then(s=>e(s.data))})}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-promise"]],decls:2,vars:0,template:function(s,r){1&s&&(t.j41(0,"p"),t.EFF(1,"promise works!"),t.k0s())}})}}return i})();var L=c(8359);class J extends L.yU{constructor(o,e){super()}schedule(o,e=0){return this}}const v={setInterval(i,o,...e){const{delegate:s}=v;return s?.setInterval?s.setInterval(i,o,...e):setInterval(i,o,...e)},clearInterval(i){const{delegate:o}=v;return(o?.clearInterval||clearInterval)(i)},delegate:void 0};var Q=c(7908);const U={now:()=>(U.delegate||Date).now(),delegate:void 0};class g{constructor(o,e=g.now){this.schedulerActionCtor=o,this.now=e}schedule(o,e=0,s){return new this.schedulerActionCtor(this,o).schedule(s,e)}}g.now=U.now;const j=new class K extends g{constructor(o,e=g.now){super(o,e),this.actions=[],this._active=!1}flush(o){const{actions:e}=this;if(this._active)return void e.push(o);let s;this._active=!0;do{if(s=o.execute(o.state,o.delay))break}while(o=e.shift());if(this._active=!1,s){for(;o=e.shift();)o.unsubscribe();throw s}}}(class W extends J{constructor(o,e){super(o,e),this.scheduler=o,this.work=e,this.pending=!1}schedule(o,e=0){var s;if(this.closed)return this;this.state=o;const r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(n,this.id,e),this}requestAsyncId(o,e,s=0){return v.setInterval(o.flush.bind(o,this),s)}recycleAsyncId(o,e,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return e;null!=e&&v.clearInterval(e)}execute(o,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(o,e);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,e){let r,s=!1;try{this.work(o)}catch(n){s=!0,r=n||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:o,scheduler:e}=this,{actions:s}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.o)(s,this),null!=o&&(this.id=this.recycleAsyncId(e,o,null)),this.delay=null,super.unsubscribe()}}}),z=j;var E=c(1985),Z=c(9470);function $(i=0,o,e=z){let s=-1;return null!=o&&((0,Z.m)(o)?e=o:s=o),new E.c(r=>{let n=function q(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;n<0&&(n=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=s?this.schedule(void 0,s):r.complete())},n)})}var I=c(6697),h=c(6354),et=c(5964);let st=(()=>{class i{constructor(){this.intervalSubs=this.returnInterval().subscribe(console.log)}ngOnDestroy(){this.intervalSubs.unsubscribe()}returnInterval(){return function tt(i=0,o=j){return i<0&&(i=0),$(i,i,o)}(100).pipe((0,I.s)(10),(0,h.T)(e=>e+1),(0,et.p)(e=>e%2==0))}returnObservable(){let e=-1;return new E.c(s=>{const r=setInterval(()=>{e++,s.next(e),4===e&&(clearInterval(r),s.complete()),2===e&&s.error("I has reached the value of 2")},1e3)})}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-rxjs"]],decls:2,vars:0,template:function(s,r){1&s&&(t.j41(0,"p"),t.EFF(1,"rxjs works!"),t.k0s())}})}}return i})();var it=c(8032),d=c.n(it),y=c(9885),rt=c(8222);function ot(i,o){if(1&i&&t.nrm(0,"img",23),2&i){const e=t.XpG();t.Y8G("src",e.user.imageUrl,t.B4B)}}function nt(i,o){if(1&i&&t.nrm(0,"img",24),2&i){const e=t.XpG();t.Y8G("src",e.tempImage,t.B4B)}}let at=(()=>{class i{constructor(e,s,r){this.fb=e,this.userService=s,this.fileUploadService=r,this.tempImage=null,this.user=this.userService.user}ngOnInit(){this.profileForm=this.fb.group({name:[this.user.name||"",a.k0.required],email:[this.user.email||"",[a.k0.required,a.k0.email]]})}updateProfile(){this.userService.updateProfile(this.profileForm.value).subscribe({next:()=>{const{email:e,name:s}=this.profileForm.value;this.user.email=e,this.user.name=s,d().fire("Good job!","The user has been updated!","success")},error:e=>{d().fire("Oops...",e.error.msg,"error")}})}changeImage(e){const s=e.target.files[0];if(this.imageToUpload=s,!s)return void(this.tempImage=null);const r=new FileReader;r.readAsDataURL(s),r.onloadend=()=>{this.tempImage=r.result}}updatePicture(){this.fileUploadService.updatePicture(this.imageToUpload,"users",this.user.uid).then(e=>{this.user.img=e,d().fire("Good job!","The profile picture has been updated!","success")}).catch(e=>{console.log(e),d().fire("Oops...","The image cannot be uploaded","error")})}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(a.ok),t.rXU(y.D),t.rXU(rt.P))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-profile"]],decls:43,vars:6,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"submit","formGroup"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Username","formControlName","name",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Enter email","formControlName","email",1,"form-control",3,"readOnly"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],["class","img-avatar","alt","profile-picture",3,"src",4,"ngIf"],["class","img-avatar","alt","temp-picture",3,"src",4,"ngIf"],["type","file",3,"change"],["type","button",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"click","disabled"],["alt","profile-picture",1,"img-avatar",3,"src"],["alt","temp-picture",1,"img-avatar",3,"src"]],template:function(s,r){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),t.EFF(5,"My user profile"),t.k0s(),t.j41(6,"h6",5),t.EFF(7,"Settings"),t.k0s(),t.j41(8,"form",6),t.bIt("submit",function(){return r.updateProfile()}),t.j41(9,"div",7)(10,"label",8),t.EFF(11,"User Name"),t.k0s(),t.j41(12,"div",9)(13,"div",10),t.nrm(14,"i",11),t.k0s(),t.nrm(15,"input",12),t.k0s()(),t.j41(16,"div",7)(17,"label",13),t.EFF(18,"Email address"),t.k0s(),t.j41(19,"div",9)(20,"div",10),t.nrm(21,"i",14),t.k0s(),t.nrm(22,"input",15),t.k0s()(),t.j41(23,"button",16),t.nrm(24,"i",17),t.EFF(25," Submit "),t.k0s()()()()(),t.j41(26,"div",1)(27,"div",2)(28,"div",3)(29,"h4",4),t.EFF(30,"Picture"),t.k0s(),t.j41(31,"h6",5),t.EFF(32,"User image"),t.k0s(),t.j41(33,"div",18),t.DNE(34,ot,1,1,"img",19)(35,nt,1,1,"img",20),t.k0s(),t.nrm(36,"br"),t.j41(37,"input",21),t.bIt("change",function(l){return r.changeImage(l)}),t.k0s(),t.nrm(38,"br")(39,"br"),t.j41(40,"button",22),t.bIt("click",function(){return r.updatePicture()}),t.nrm(41,"i",17),t.EFF(42," Save Image "),t.k0s()()()()()),2&s&&(t.R7$(8),t.Y8G("formGroup",r.profileForm),t.R7$(14),t.Y8G("readOnly",r.user.google),t.R7$(),t.Y8G("disabled",r.profileForm.invalid),t.R7$(11),t.Y8G("ngIf",!r.tempImage),t.R7$(),t.Y8G("ngIf",r.tempImage),t.R7$(5),t.Y8G("disabled",!r.imageToUpload))},dependencies:[p.bT,a.qT,a.me,a.BC,a.cb,a.j4,a.JD]})}}return i})();var _=c(5312),ct=c(3873),S=c(1626);const D=_.c.apiUrl;let b=(()=>{class i{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}mapToUsers(e){return e.map(s=>new ct.K(s.name,s.email,"",s.img,s.role,s.google,s.uid))}searchByType(e,s){return this.http.get(`${D}/all/collection/${e}/${s}`,this.headers).pipe((0,h.T)(n=>{switch(e){case"users":return this.mapToUsers(n.result);case"hospitals":case"doctors":return n.result}}))}searchAll(e){return this.http.get(`${D}/all/${e}`,this.headers).pipe((0,h.T)(({users:r,hospitals:n,doctors:l})=>({users:r,hospitals:n,doctors:l})))}static{this.\u0275fac=function(s){return new(s||i)(t.KVO(S.Qq))}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var k=c(7835);function lt(i,o){if(1&i&&(t.qex(0),t.j41(1,"span"),t.EFF(2),t.k0s(),t.bVm()),2&i){const e=o.$implicit,s=o.index,r=t.XpG();t.R7$(),t.xc7("color",r.colors[s%r.colors.length]),t.R7$(),t.SpI(" ",e," ")}}let dt=(()=>{class i{constructor(){this.text="Google",this.colors=["#4285F4","#DB4437","#F4B400","#4285F4","#0F9D58","#DB4437"]}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-google-span"]],decls:2,vars:1,consts:[[1,"label","label-google"],[4,"ngFor","ngForOf"]],template:function(s,r){1&s&&(t.j41(0,"span",0),t.DNE(1,lt,3,3,"ng-container",1),t.k0s()),2&s&&(t.R7$(),t.Y8G("ngForOf",r.text.split("")))},dependencies:[p.Sq]})}}return i})();function pt(i,o){1&i&&(t.j41(0,"div",1)(1,"div",2)(2,"div",7)(3,"h4",8),t.EFF(4,"Loading"),t.k0s(),t.nrm(5,"i",9),t.j41(6,"p",10),t.EFF(7,"Please wait"),t.k0s()()()())}function ht(i,o){1&i&&t.nrm(0,"app-google-span")}function ut(i,o){1&i&&(t.j41(0,"span",29),t.EFF(1,"Email"),t.k0s())}function mt(i,o){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td",20)(2,"img",21),t.bIt("click",function(){const r=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.openImageModal(r))}),t.k0s()(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"select",22),t.mxI("ngModelChange",function(r){const n=t.eBV(e).$implicit;return t.DH7(n.role,r)||(n.role=r),t.Njj(r)}),t.bIt("change",function(){const r=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.changeRole(r))}),t.j41(9,"option",23),t.EFF(10,"Admin"),t.k0s(),t.j41(11,"option",24),t.EFF(12,"User"),t.k0s()()(),t.j41(13,"td",20),t.DNE(14,ht,1,0,"app-google-span",19)(15,ut,2,0,"span",25),t.k0s(),t.j41(16,"td",26)(17,"a",27),t.bIt("click",function(){const r=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.deleteUser(r))}),t.nrm(18,"i",28),t.k0s()()()}if(2&i){const e=o.$implicit;t.R7$(2),t.Y8G("src",e.imageUrl,t.B4B),t.R7$(2),t.JRh(e.email),t.R7$(2),t.JRh(e.name),t.R7$(2),t.R50("ngModel",e.role),t.R7$(6),t.Y8G("ngIf",e.google),t.R7$(),t.Y8G("ngIf",!e.google)}}function gt(i,o){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"button",30),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.changePage(-5))}),t.EFF(2,"Previous"),t.k0s(),t.EFF(3," \xa0 "),t.j41(4,"button",30),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.changePage(5))}),t.EFF(5,"Next"),t.k0s()()}}function ft(i,o){if(1&i&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",11),t.EFF(5),t.k0s(),t.j41(6,"h6",12),t.EFF(7,"Users registered in the app"),t.k0s(),t.j41(8,"div",13)(9,"table",14)(10,"thead")(11,"tr")(12,"th",15),t.EFF(13,"Avatar"),t.k0s(),t.j41(14,"th"),t.EFF(15,"Email"),t.k0s(),t.j41(16,"th"),t.EFF(17,"Name"),t.k0s(),t.j41(18,"th",16),t.EFF(19,"Role"),t.k0s(),t.j41(20,"th",15),t.EFF(21,"Auth By"),t.k0s(),t.j41(22,"th",17),t.EFF(23,"Actions"),t.k0s()()(),t.j41(24,"tbody"),t.DNE(25,mt,19,6,"tr",18),t.k0s()()(),t.DNE(26,gt,6,0,"div",19),t.k0s()()()()),2&i){const e=t.XpG(),s=t.sdS(5);t.R7$(5),t.SpI("Total users (",e.totalUsers,")"),t.R7$(20),t.Y8G("ngForOf",e.users),t.R7$(),t.Y8G("ngIf",!s.value)}}let vt=(()=>{class i{constructor(e,s,r){this.userService=e,this.seachService=s,this.modalImageService=r,this.users=[],this.tempUsers=[],this.totalUsers=0,this.tempTotalUsers=0,this.from=0,this.isLoading=!0}ngOnInit(){this.loadUsers(),this.imgSubs=this.modalImageService.imageUpdated.subscribe(()=>this.loadUsers())}ngOnDestroy(){this.imgSubs.unsubscribe()}loadUsers(){this.userService.loadUsers(this.from).subscribe({next:({total:e,users:s})=>{this.totalUsers=e,this.users=s,this.tempUsers=s,this.tempTotalUsers=e,this.isLoading=!1},error:e=>console.log(e)})}changePage(e){this.from+=e,this.from<0?this.from=0:this.from>=this.totalUsers?this.from-=e:this.loadUsers()}searchUsers(e){if(0===e.trim().length)return this.users=this.tempUsers,void(this.totalUsers=this.tempTotalUsers);this.seachService.searchByType("users",e).subscribe(s=>{this.users=s,this.totalUsers=this.users.length})}deleteUser(e){e.uid!==this.userService.uid?d().fire({title:"Are you sure do?",text:`${e.name} is going to be deleted, you won't be able to revert this!`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(s=>{s.isConfirmed&&this.userService.deleteUser(e.uid).subscribe({next:()=>{d().fire("Deleted!",`${e.name} has been deleted.`,"success"),this.loadUsers()}})}):d().fire("Error","You cannot delete yourself","error")}changeRole(e){this.userService.updateUser(e)}openImageModal(e){this.modalImageService.openModal("users",e.uid,e.img)}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(y.D),t.rXU(b),t.rXU(k.O))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-user"]],decls:8,vars:2,consts:[["txtValue",""],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search user...",1,"form-control",3,"keyup"],["class","row animated fadeIn fast",4,"ngIf"],["role","alert",1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w140"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],["alt","temp-picture",1,"img-avatar-table","cursor",3,"click","src"],[1,"form-control",3,"ngModelChange","change","ngModel"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","label label-info",4,"ngIf"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Delete",3,"click"],[1,"fa","fa-close","text-danger","cursor"],[1,"label","label-info"],[1,"btn","btn-secondary",3,"click"]],template:function(s,r){if(1&s){const n=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),t.bIt("keyup",function(){t.eBV(n);const m=t.sdS(5);return t.Njj(r.searchUsers(m.value))}),t.k0s()()()()(),t.DNE(6,pt,8,0,"div",6)(7,ft,27,3,"div",6)}2&s&&(t.R7$(6),t.Y8G("ngIf",r.isLoading),t.R7$(),t.Y8G("ngIf",!r.isLoading))},dependencies:[p.Sq,p.bT,a.xH,a.y7,a.wz,a.BC,a.vS,dt]})}}return i})();var _t=c(467);const F=_.c.apiUrl;let R=(()=>{class i{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}getHospitals(){return this.http.get(`${F}/hospitals`,this.headers).pipe((0,h.T)(e=>e.hospitals))}createHospital(e){return this.http.post(`${F}/hospitals`,{name:e},this.headers).pipe((0,h.T)(s=>s.hospital))}updateHospital(e){return this.http.put(`${F}/hospitals/${e._id}`,e,this.headers).pipe((0,h.T)(s=>s.hospital))}deleteHospital(e){return this.http.delete(`${F}/hospitals/${e}`,this.headers)}static{this.\u0275fac=function(s){return new(s||i)(t.KVO(S.Qq))}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();const x=_.c.apiUrl;let C=(()=>{class i{transform(e="",s){return e?`${x}/upload/${s}/${e}`:`${x}/upload/${s}/no-image`}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275pipe=t.EJ8({name:"image",type:i,pure:!0})}}return i})();function bt(i,o){1&i&&(t.j41(0,"div",1)(1,"div",2)(2,"div",7)(3,"h4",8),t.EFF(4,"Loading"),t.k0s(),t.nrm(5,"i",9),t.j41(6,"p",10),t.EFF(7,"Please wait"),t.k0s()()()())}function kt(i,o){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td",23)(2,"img",24),t.nI1(3,"image"),t.bIt("click",function(){const r=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.openImageModal(r))}),t.k0s()(),t.j41(4,"td")(5,"input",25),t.mxI("ngModelChange",function(r){const n=t.eBV(e).$implicit;return t.DH7(n.name,r)||(n.name=r),t.Njj(r)}),t.k0s()(),t.j41(6,"td",26)(7,"a",27),t.bIt("click",function(){const r=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.editHospital(r))}),t.nrm(8,"i",28),t.k0s(),t.j41(9,"a",29),t.bIt("click",function(){const r=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.deleteHospital(r))}),t.nrm(10,"i",30),t.k0s()()()}if(2&i){const e=o.$implicit;t.R7$(2),t.Y8G("src",t.i5U(3,3,e.img,"hospitals"),t.B4B)("alt",e.name),t.R7$(3),t.R50("ngModel",e.name)}}function Ft(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",11)(5,"div",12)(6,"h4",13),t.EFF(7),t.k0s(),t.j41(8,"h6",14),t.EFF(9,"Hospitals registered in the app"),t.k0s()(),t.j41(10,"div",15)(11,"button",16),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.createHospital())}),t.nrm(12,"i",17),t.EFF(13," Create hospital "),t.k0s()()(),t.j41(14,"div",18)(15,"table",19)(16,"thead")(17,"tr")(18,"th",20),t.EFF(19,"Picture"),t.k0s(),t.j41(20,"th"),t.EFF(21,"Name"),t.k0s(),t.j41(22,"th",21),t.EFF(23,"Action"),t.k0s()()(),t.j41(24,"tbody"),t.DNE(25,kt,11,6,"tr",22),t.k0s()()()()()()()}if(2&i){const e=t.XpG();t.R7$(7),t.SpI("Hospitals (",e.hospitals.length,")"),t.R7$(18),t.Y8G("ngForOf",e.hospitals)}}let Ct=(()=>{class i{constructor(e,s,r){this.hospitalService=e,this.modalImageService=s,this.searchService=r,this.hospitals=[],this.tempHospitals=[],this.isLoading=!0}ngOnInit(){this.loadHospitals(),this.imgSubs=this.modalImageService.imageUpdated.subscribe(()=>this.hospitals=this.tempHospitals)}ngOnDestroy(){this.imgSubs.unsubscribe()}loadHospitals(){this.hospitalService.getHospitals().subscribe(e=>{this.hospitals=e,this.tempHospitals=e,this.isLoading=!1})}createHospital(){var e=this;return(0,_t.A)(function*(){const{value:s=""}=yield d().fire({title:"Create hospital",text:"Hospital's name",input:"text",inputPlaceholder:"Name of the hospital",showCancelButton:!0});s.trim().length>0&&e.hospitalService.createHospital(s).subscribe(r=>{d().fire("Updated",`${r.name} has been created`,"success"),e.hospitals.push(r)})})()}editHospital(e){this.hospitalService.updateHospital(e).subscribe(s=>{d().fire("Updated",`${s.name} has been updated`,"success")})}deleteHospital(e){d().fire({title:"Are you sure do?",text:`${e.name} is going to be deleted, you won't be able to revert this!`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(s=>{s.isConfirmed&&this.hospitalService.deleteHospital(e._id).subscribe({next:()=>{d().fire("Deleted",`${e.name} has been deleted`,"success"),this.hospitals=this.hospitals.filter(r=>r._id!==e._id)},error:r=>{console.log("Error",r),d().fire("Deleted","An error has occurred while deleting the hospital","error")}})})}openImageModal(e){this.modalImageService.openModal("hospitals",e._id,e.img)}searchHospitals(e){0!==e.trim().length?this.searchService.searchByType("hospitals",e).subscribe(s=>this.hospitals=s):this.hospitals=this.tempHospitals}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(R),t.rXU(k.O),t.rXU(b))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-hospital"]],decls:8,vars:2,consts:[["searchInput",""],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search hospital...",1,"form-control",3,"keyup"],["class","row animated fadeIn fast",4,"ngIf"],["role","alert",1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col","text-right"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-hospital-o"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"img-avatar-table","cursor",3,"click","src","alt"],["type","text","placeholder","Hospital's name",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Edit",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10","cursor"],["data-toggle","tooltip","data-original-title","Delete",3,"click"],[1,"fa","fa-close","text-danger","cursor"]],template:function(s,r){if(1&s){const n=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),t.bIt("keyup",function(){t.eBV(n);const m=t.sdS(5);return t.Njj(r.searchHospitals(m.value))}),t.k0s()()()()(),t.DNE(6,bt,8,0,"div",6)(7,Ft,26,2,"div",6)}2&s&&(t.R7$(6),t.Y8G("ngIf",r.isLoading),t.R7$(),t.Y8G("ngIf",!r.isLoading))},dependencies:[p.Sq,p.bT,a.me,a.BC,a.vS,C]})}}return i})();const f=_.c.apiUrl;let G=(()=>{class i{constructor(e){this.http=e}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}getDoctors(){return this.http.get(`${f}/doctors`,this.headers).pipe((0,h.T)(e=>e.doctors))}getDoctorById(e){return this.http.get(`${f}/doctors/${e}`,this.headers).pipe((0,h.T)(r=>r.doctor))}createDoctor(e){return this.http.post(`${f}/doctors`,e,this.headers).pipe((0,h.T)(r=>r.doctor))}updateDoctor(e){return this.http.put(`${f}/doctors/${e._id}`,e,this.headers).pipe((0,h.T)(r=>r.updatedDoctor))}deleteDoctor(e){return this.http.delete(`${f}/doctors/${e}`,this.headers)}static{this.\u0275fac=function(s){return new(s||i)(t.KVO(S.Qq))}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();const jt=()=>["/dashboard","doctor","new"],It=i=>["/dashboard","doctor",i];function yt(i,o){1&i&&(t.j41(0,"div",1)(1,"div",2)(2,"div",7)(3,"h4",8),t.EFF(4,"Loading"),t.k0s(),t.nrm(5,"i",9),t.j41(6,"p",10),t.EFF(7,"Please wait"),t.k0s()()()())}function St(i,o){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td",23)(2,"img",24),t.nI1(3,"image"),t.bIt("click",function(){const r=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.openModal(r))}),t.k0s()(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td",25)(7,"a",26),t.nrm(8,"i",27),t.k0s(),t.j41(9,"a",28),t.bIt("click",function(){const r=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.deleteDoctor(r))}),t.nrm(10,"i",29),t.k0s()()()}if(2&i){const e=o.$implicit;t.R7$(2),t.Y8G("src",t.i5U(3,3,e.img,"doctors"),t.B4B),t.R7$(3),t.SpI(" ",e.name," "),t.R7$(2),t.Y8G("routerLink",t.eq3(6,It,e._id))}}function Tt(i,o){if(1&i&&(t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",11)(5,"div",12)(6,"h4",13),t.EFF(7,"Doctors"),t.k0s(),t.j41(8,"h6",14),t.EFF(9),t.k0s()(),t.j41(10,"div",15)(11,"a",16),t.nrm(12,"i",17),t.EFF(13," Create doctor "),t.k0s()()(),t.j41(14,"div",18)(15,"table",19)(16,"thead")(17,"tr")(18,"th",20),t.EFF(19,"Avatar"),t.k0s(),t.j41(20,"th"),t.EFF(21,"Name"),t.k0s(),t.j41(22,"th",21),t.EFF(23,"Action"),t.k0s()()(),t.j41(24,"tbody"),t.DNE(25,St,11,8,"tr",22),t.k0s()()()()()()()),2&i){const e=t.XpG();t.R7$(9),t.SpI("Doctors registered in the app (",e.doctors.length,")"),t.R7$(2),t.Y8G("routerLink",t.lJ4(3,jt)),t.R7$(14),t.Y8G("ngForOf",e.doctors)}}let Ut=(()=>{class i{constructor(e,s,r){this.doctorService=e,this.modalImageService=s,this.searchService=r,this.doctors=[],this.tempDoctors=[],this.isLoading=!0}ngOnInit(){this.loadDoctors(),this.imgSubs=this.modalImageService.imageUpdated.subscribe(()=>this.loadDoctors())}ngOnDestroy(){this.imgSubs.unsubscribe()}loadDoctors(){this.isLoading=!0,this.doctorService.getDoctors().subscribe(e=>{this.doctors=e,this.tempDoctors=e,this.isLoading=!1})}searchDoctors(e){0!==e.trim().length?this.searchService.searchByType("doctors",e).subscribe(s=>this.doctors=s):this.doctors=this.tempDoctors}openModal(e){this.modalImageService.openModal("doctors",e._id,e.img)}deleteDoctor(e){d().fire({title:"Are you sure?",text:`${e.name} is going to be deleted, you won't be able to revert this!`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(s=>{s.isConfirmed&&this.doctorService.deleteDoctor(e._id).subscribe({next:()=>{this.loadDoctors(),d().fire("Deleted",`${e.name} has been deleted`,"success")},error:r=>{console.log("Error",r),d().fire("Deleted","An error has ocurred while deleting the doctor","error")}})})}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(G),t.rXU(k.O),t.rXU(b))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-doctor"]],decls:8,vars:2,consts:[["searchInput",""],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search doctor...",1,"form-control",3,"keyup"],["class","row animated fadeIn fast",4,"ngIf"],["role","alert",1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col","text-right"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-user-md"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"text-center","cursor"],["alt","doctor-img",1,"img-avatar-table",3,"click","src"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Delete",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(s,r){if(1&s){const n=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),t.bIt("keyup",function(){t.eBV(n);const m=t.sdS(5);return t.Njj(r.searchDoctors(m.value))}),t.k0s()()()()(),t.DNE(6,yt,8,0,"div",6)(7,Tt,26,4,"div",6)}2&s&&(t.R7$(6),t.Y8G("ngIf",r.isLoading),t.R7$(),t.Y8G("ngIf",!r.isLoading))},dependencies:[p.Sq,p.bT,u.Wk,C]})}}return i})();var Et=c(8793),$t=c(9974),Dt=c(4360),Rt=c(5343),Gt=c(3703),wt=c(1397),Bt=c(8750);function w(i,o){return o?e=>(0,Et.x)(o.pipe((0,I.s)(1),function xt(){return(0,$t.N)((i,o)=>{i.subscribe((0,Dt._)(o,Rt.l))})}()),e.pipe(w(i))):(0,wt.Z)((e,s)=>(0,Bt.Tg)(i(e,s)).pipe((0,I.s)(1),(0,Gt.u)(e)))}function Yt(i,o){1&i&&(t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"h4",5),t.EFF(4,"Loading"),t.k0s(),t.nrm(5,"i",6),t.j41(6,"p",7),t.EFF(7,"Please wait"),t.k0s()()()())}function Vt(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",30)(1,"img",31),t.nI1(2,"image"),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.openImageModal())}),t.k0s()()}if(2&i){const e=t.XpG(2);t.R7$(),t.Y8G("src",t.i5U(2,1,e.doctorSelected.img,"doctors"),t.B4B)}}function Pt(i,o){if(1&i&&(t.j41(0,"option",32),t.EFF(1),t.k0s()),2&i){const e=o.$implicit;t.Y8G("value",e._id),t.R7$(),t.SpI(" ",e.name," ")}}function Ht(i,o){if(1&i&&(t.j41(0,"div",11)(1,"h4",12),t.EFF(2,"Hospital Information"),t.k0s(),t.j41(3,"h6",33),t.EFF(4),t.k0s(),t.nrm(5,"img",34),t.nI1(6,"image"),t.k0s()),2&i){const e=t.XpG(2);t.R7$(4),t.JRh(e.hospitalSelected.name),t.R7$(),t.Y8G("src",t.i5U(6,2,e.hospitalSelected.img,"hospitals"),t.B4B)}}function Mt(i,o){if(1&i){const e=t.RV6();t.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"h4",12),t.EFF(5,"Edit or create doctor"),t.k0s(),t.j41(6,"form",13),t.bIt("submit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.saveDoctor())}),t.DNE(7,Vt,3,4,"div",14),t.j41(8,"div",15)(9,"label",16),t.EFF(10,"Name"),t.k0s(),t.j41(11,"div",17)(12,"div",18),t.nrm(13,"i",19),t.k0s(),t.nrm(14,"input",20),t.k0s()(),t.j41(15,"div",15)(16,"label",21),t.EFF(17,"Select a Hospital"),t.k0s(),t.j41(18,"div",17)(19,"div",18),t.nrm(20,"i",22),t.k0s(),t.j41(21,"select",23)(22,"option",24),t.EFF(23,"Select a hospital"),t.k0s(),t.DNE(24,Pt,2,2,"option",25),t.k0s()()(),t.j41(25,"button",26),t.nrm(26,"i",27),t.EFF(27," Save "),t.k0s()()()()(),t.j41(28,"div",28)(29,"div",10),t.DNE(30,Ht,7,5,"div",29),t.k0s()()()}if(2&i){const e=t.XpG();t.R7$(6),t.Y8G("formGroup",e.doctorForm),t.R7$(),t.Y8G("ngIf",e.doctorSelected),t.R7$(17),t.Y8G("ngForOf",e.hospitals),t.R7$(),t.Y8G("disabled",e.doctorForm.invalid),t.R7$(5),t.Y8G("ngIf",e.hospitalSelected)}}let Ot=(()=>{class i{constructor(e,s,r,n,l,m){this.fb=e,this.hospitalService=s,this.doctorService=r,this.router=n,this.activatedRoute=l,this.modalImageService=m,this.hospitals=[],this.isLoading=!0}ngOnInit(){this.doctorForm=this.fb.group({name:["",a.k0.required],hospital:["",a.k0.required]}),this.activatedRoute.params.subscribe(({id:e})=>this.loadDoctor(e)),this.loadHospitals(),this.getHospitalSelected(),this.modalImageService.imageUpdated.subscribe(e=>e&&(this.doctorSelected.img=e))}loadDoctor(e){"new"!==e?this.doctorService.getDoctorById(e).pipe(function Nt(i,o=j){const e=$(i,o);return w(()=>e)}(100)).subscribe({next:s=>{const{name:r,hospital:n}=s;this.doctorForm.setValue({name:r,hospital:n?._id}),this.doctorSelected=s,this.isLoading=!1},error:()=>this.router.navigateByUrl("dashboard/doctors")}):this.isLoading=!1}loadHospitals(){this.hospitalService.getHospitals().subscribe(e=>this.hospitals=e)}getHospitalSelected(){const e=this.doctorForm.get("hospital");e&&e.valueChanges.subscribe(s=>{this.hospitalSelected=this.hospitals.find(r=>r._id===s)})}saveDoctor(){if(this.doctorSelected){const e={_id:this.doctorSelected._id,...this.doctorForm.value};this.doctorService.updateDoctor(e).subscribe(s=>{d().fire("Doctor Updated",`The doctor ${s.name} has been updated`,"success"),this.router.navigateByUrl(`/dashboard/doctor/${s._id}`)})}else this.doctorService.createDoctor(this.doctorForm.value).subscribe(e=>{d().fire("Doctor Created",`The doctor ${e.name} has been created successfully`,"success"),this.router.navigateByUrl(`/dashboard/doctor/${e._id}`)})}openImageModal(){const{_id:e,img:s}=this.doctorSelected;this.modalImageService.openModal("doctors",e,s)}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(a.ok),t.rXU(R),t.rXU(G),t.rXU(u.Ix),t.rXU(u.nX),t.rXU(k.O))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-doctor"]],decls:2,vars:2,consts:[["class","row animated fadeIn fast",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","animated","fadeIn","fast"],[1,"col-12"],["role","alert",1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-lg-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"form","p-t-20",3,"submit","formGroup"],["class","form-group text-center",4,"ngIf"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"fa","fa-user-md"],["type","text","id","exampleInputuname","placeholder","Doctor's name","formControlName","name",1,"form-control"],["for","exampleInputEmail1"],[1,"fa","fa-hospital-o"],["formControlName","hospital",1,"cursor","form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"col-md-6"],["class","card-body",4,"ngIf"],[1,"form-group","text-center"],["alt","doctor-img",1,"w200","cursor",3,"click","src"],[3,"value"],[1,"card-subtitle"],["alt","doctor-img",1,"img-thumbnail",3,"src"]],template:function(s,r){1&s&&t.DNE(0,Yt,8,0,"div",0)(1,Mt,31,5,"div",1),2&s&&(t.Y8G("ngIf",r.isLoading),t.R7$(),t.Y8G("ngIf",!r.isLoading))},dependencies:[p.Sq,p.bT,a.qT,a.xH,a.y7,a.me,a.wz,a.BC,a.cb,a.j4,a.JD,C]})}}return i})();const Xt=i=>["/dashboard/doctor/",i];function At(i,o){1&i&&(t.j41(0,"div",6)(1,"p",7),t.EFF(2," No users were found with the specified value "),t.k0s()())}function Lt(i,o){if(1&i&&(t.j41(0,"tr")(1,"td"),t.nrm(2,"img",12),t.nI1(3,"image"),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s()()),2&i){const e=o.$implicit;t.R7$(2),t.Y8G("src",t.i5U(3,2,e.img,"users"),t.B4B),t.R7$(3),t.JRh(e.name)}}function Jt(i,o){if(1&i&&(t.j41(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),t.EFF(5,"Picture"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Name"),t.k0s()()(),t.j41(8,"tbody"),t.DNE(9,Lt,6,5,"tr",11),t.k0s()()()),2&i){const e=t.XpG();t.R7$(9),t.Y8G("ngForOf",e.users)}}function Qt(i,o){1&i&&(t.j41(0,"div",6)(1,"p",7),t.EFF(2," No hospitals were found with the specified value "),t.k0s()())}function Wt(i,o){if(1&i&&(t.j41(0,"tr")(1,"td"),t.nrm(2,"img",13),t.nI1(3,"image"),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s()()),2&i){const e=o.$implicit;t.R7$(2),t.Y8G("src",t.i5U(3,2,e.img,"hospitals"),t.B4B),t.R7$(3),t.JRh(e.name)}}function Kt(i,o){if(1&i&&(t.j41(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),t.EFF(5,"Picture"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Name"),t.k0s()()(),t.j41(8,"tbody"),t.DNE(9,Wt,6,5,"tr",11),t.k0s()()()),2&i){const e=t.XpG();t.R7$(9),t.Y8G("ngForOf",e.hospitals)}}function zt(i,o){1&i&&(t.j41(0,"div",6)(1,"p",7),t.EFF(2," No doctors were found with the specified value "),t.k0s()())}function Zt(i,o){if(1&i&&(t.j41(0,"tr")(1,"td"),t.nrm(2,"img",14),t.nI1(3,"image"),t.k0s(),t.j41(4,"td")(5,"a",15),t.EFF(6),t.k0s()()()),2&i){const e=o.$implicit;t.R7$(2),t.Y8G("src",t.i5U(3,3,e.img,"doctors"),t.B4B),t.R7$(3),t.Y8G("routerLink",t.eq3(6,Xt,e._id)),t.R7$(),t.SpI(" ",e.name," ")}}function qt(i,o){if(1&i&&(t.j41(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th"),t.EFF(5,"Picture"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Name"),t.k0s()()(),t.j41(8,"tbody"),t.DNE(9,Zt,7,8,"tr",11),t.k0s()()()),2&i){const e=t.XpG();t.R7$(9),t.Y8G("ngForOf",e.doctors)}}const te=[{path:"",component:B,data:{title:"Dashboard"}},{path:"account-settings",component:X,data:{title:"Theme Settings"}},{path:"chart1",component:M,data:{title:"Chart 1"}},{path:"profile",component:at,data:{title:"Profile"}},{path:"progress",component:V,data:{title:"ProgressBar"}},{path:"promise",component:A,data:{title:"Promise"}},{path:"rxjs",component:st,data:{title:"RxJs"}},{path:"search/:value",component:(()=>{class i{constructor(e,s){this.activatedRoute=e,this.searchService=s,this.doctors=[],this.hospitals=[],this.users=[]}ngOnInit(){this.activatedRoute.params.subscribe(({value:e})=>{this.searchAll(e)})}searchAll(e){this.searchService.searchAll(e).subscribe(s=>{console.log(s),this.doctors=s.doctors,this.hospitals=s.hospitals,this.users=s.users})}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(u.nX),t.rXU(b))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-searchs"]],decls:22,vars:6,consts:[[1,"row"],[1,"col-4"],[1,"card"],[1,"card-body"],["class","alert alert-info",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"alert","alert-info"],[1,"mb-0"],[1,"table-responsive"],[1,"table"],[1,"w100"],[4,"ngFor","ngForOf"],["alt","user-img",1,"w40",3,"src"],["alt","hospital-img",1,"w40",3,"src"],["alt","doctor-img",1,"w40",3,"src"],[3,"routerLink"]],template:function(s,r){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),t.EFF(5,"Users"),t.k0s(),t.DNE(6,At,3,0,"div",4)(7,Jt,10,1,"div",5),t.k0s()()(),t.j41(8,"div",1)(9,"div",2)(10,"div",3)(11,"h3"),t.EFF(12,"Hospitals"),t.k0s(),t.DNE(13,Qt,3,0,"div",4)(14,Kt,10,1,"div",5),t.k0s()()(),t.j41(15,"div",1)(16,"div",2)(17,"div",3)(18,"h3"),t.EFF(19,"Doctors"),t.k0s(),t.DNE(20,zt,3,0,"div",4)(21,qt,10,1,"div",5),t.k0s()()()()),2&s&&(t.R7$(6),t.Y8G("ngIf",0===r.users.length),t.R7$(),t.Y8G("ngIf",r.users.length>0),t.R7$(6),t.Y8G("ngIf",0===r.hospitals.length),t.R7$(),t.Y8G("ngIf",r.hospitals.length>0),t.R7$(6),t.Y8G("ngIf",0===r.doctors.length),t.R7$(),t.Y8G("ngIf",r.doctors.length>0))},dependencies:[p.Sq,p.bT,u.Wk,C]})}}return i})(),data:{title:"Search"}},{path:"hospitals",component:Ct,data:{title:"Hospitals Maintenance"}},{path:"doctors",component:Ut,data:{title:"Doctors Maintenance"}},{path:"doctor/:id",component:Ot,data:{title:"Doctors Maintenance"}},{path:"users",canActivate:[()=>{const i=(0,t.WQX)(y.D),o=(0,t.WQX)(u.Ix);return"ADMIN_ROLE"===i.role||(o.navigateByUrl("/dashboard"),!1)}],component:vt,data:{title:"Users Maintenance"}}];let ee=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(te),u.iI]})}}return i})()}}]);